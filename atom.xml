<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>xlfan&#39;s blog</title>
  
  
  <link href="https://xielingfan.github.io/atom.xml" rel="self"/>
  
  <link href="https://xielingfan.github.io/"/>
  <updated>2022-04-26T04:34:31.813Z</updated>
  <id>https://xielingfan.github.io/</id>
  
  <author>
    <name>xlfan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git基本操作</title>
    <link href="https://xielingfan.github.io/2022/04/26/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>https://xielingfan.github.io/2022/04/26/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</id>
    <published>2022-04-26T04:06:28.000Z</published>
    <updated>2022-04-26T04:34:31.813Z</updated>
    
    <content type="html"><![CDATA[<h3 id="配置用户名、用户邮箱"><a href="#配置用户名、用户邮箱" class="headerlink" title="配置用户名、用户邮箱"></a>配置用户名、用户邮箱</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global [user.name](http://user.name/) <span class="string">&quot;Your Name&quot;</span>  </span><br><span class="line">git config --global [user.email](http://user.email/) <span class="string">&quot;email@[example.com](http://example.com/)&quot;</span></span><br></pre></td></tr></table></figure><h3 id="创建新目录并进入"><a href="#创建新目录并进入" class="headerlink" title="创建新目录并进入"></a>创建新目录并进入</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> learngit</span><br><span class="line"><span class="built_in">cd</span> learngit</span><br></pre></td></tr></table></figure><h3 id="将目录变成Git可管理的仓库"><a href="#将目录变成Git可管理的仓库" class="headerlink" title="将目录变成Git可管理的仓库"></a>将目录变成Git可管理的仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h3 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><h3 id="工作区-Working-Directory-amp-暂存区-stage-x2F-index-amp-仓库（Repository）"><a href="#工作区-Working-Directory-amp-暂存区-stage-x2F-index-amp-仓库（Repository）" class="headerlink" title="工作区(Working Directory)&amp;暂存区(stage&#x2F;index)&amp;仓库（Repository）"></a>工作区(Working Directory)&amp;暂存区(stage&#x2F;index)&amp;仓库（Repository）</h3><p>工作区-&gt;暂存区    </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add test.txt</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure><p>暂存区-&gt;仓库     </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;message&quot;</span></span><br></pre></td></tr></table></figure><p>查看工作区与暂存区差异 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure><p>  查看暂存区与仓库差异    </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br></pre></td></tr></table></figure><p>查看工作区与仓库差异</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD</span><br></pre></td></tr></table></figure><h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><p>回退到上个版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure><p>回退到上上个版本    </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^^</span><br></pre></td></tr></table></figure><p>回退到上一百个版本    </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD~100</span><br></pre></td></tr></table></figure><p>回退到某一版本 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard e5g1d(版本号前几位)</span><br></pre></td></tr></table></figure><p>参数</p><ul><li><p>3个区都回退    –hard</p></li><li><p>只回退仓库，暂存区和工作区不会发生变化    –soft</p></li><li><p>默认方式，回退暂存区和仓库信息，工作区不会发生变化    –mixed</p></li></ul><h3 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h3><p>撤销工作区的修改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git restore test.txt</span><br><span class="line">git checkout -- test.txt</span><br></pre></td></tr></table></figure><p>撤销暂存区的变化&#x2F;撤销git add</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git restore --staged test.txt</span><br><span class="line">git reset  HEAD test.txt</span><br></pre></td></tr></table></figure><h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><p>所有提交的版本信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><p>简略版日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=oneline</span><br></pre></td></tr></table></figure><p>分支合并图、一行显示、提交校验码缩略显示</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=oneline  --graph --abbrev-commit</span><br></pre></td></tr></table></figure><p>查看所有分支的操作记录（commit、reset），可用来恢复被删除版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog </span><br></pre></td></tr></table></figure><h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><p>查看分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>创建分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br></pre></td></tr></table></figure><p>切换分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch dev</span><br><span class="line">git checkout dev</span><br></pre></td></tr></table></figure><p>创建+切换分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git switch -c dev</span><br><span class="line">git checkout -b dev</span><br></pre></td></tr></table></figure><p>合并某分支到当前分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge dev#fast foward模式：删除分支后会丢掉分支信息</span><br><span class="line">git merge --no-ff -m &quot;message&quot; dev    #--no-ff 模式：会在merge时生成一个新的commit</span><br></pre></td></tr></table></figure><p>解决冲突，编辑文档解决冲突后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add + commit</span><br></pre></td></tr></table></figure><p>删除分支</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure><p>强制删除分支（若要删除没有被合并过的分支）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D dev</span><br></pre></td></tr></table></figure><h3 id="应对突发情况，保存当前工作"><a href="#应对突发情况，保存当前工作" class="headerlink" title="应对突发情况，保存当前工作"></a>应对突发情况，保存当前工作</h3><p>保存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>查看保存列表</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure><p>应用某个存储</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure><p>丢弃某个存储</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash drop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure><p>应用并删除</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></table></figure><p>删除所有stash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash clear</span><br></pre></td></tr></table></figure><h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><p>添加自己的远程仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin url</span><br></pre></td></tr></table></figure><p>添加别人的远程仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add upstream url</span><br></pre></td></tr></table></figure><p>删除远程仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote remove origin/upstream</span><br></pre></td></tr></table></figure><p>查看远程库信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h3 id="推送分支"><a href="#推送分支" class="headerlink" title="推送分支"></a>推送分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master<span class="comment">#第一次</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h3 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete dev</span><br></pre></td></tr></table></figure><h3 id="从远程仓库克隆（只会克隆master）"><a href="#从远程仓库克隆（只会克隆master）" class="headerlink" title="从远程仓库克隆（只会克隆master）"></a>从远程仓库克隆（只会克隆master）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> SSH/HTTPS</span><br></pre></td></tr></table></figure><h3 id="创建远程仓库的dev分支到本地"><a href="#创建远程仓库的dev分支到本地" class="headerlink" title="创建远程仓库的dev分支到本地"></a>创建远程仓库的dev分支到本地</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git switch -c dev origin/dev</span><br></pre></td></tr></table></figure><h3 id="拉取远程仓库内容"><a href="#拉取远程仓库内容" class="headerlink" title="拉取远程仓库内容"></a>拉取远程仓库内容</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin master<span class="comment">#只拉取，不合并    </span></span><br><span class="line">git pull origin master<span class="comment">#拉取（fetch）+合并（merge）  </span></span><br></pre></td></tr></table></figure><h3 id="变基"><a href="#变基" class="headerlink" title="变基"></a>变基</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rebase upstream/master</span><br><span class="line">若有冲突，解决后  git add</span><br><span class="line">然后执行 git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure><h3 id="一些参数的解释"><a href="#一些参数的解释" class="headerlink" title="一些参数的解释"></a>一些参数的解释</h3><ul><li><p>-d    –delete：删除</p></li><li><p>-D    –delete –force的快捷键</p></li><li><p>-f      –force：强制</p></li><li><p>-m   –move：移动或重命名</p></li><li><p>-M    –move –force的快捷键</p></li><li><p>-r     –remote：远程</p></li><li><p>-a    –all:所有</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;配置用户名、用户邮箱&quot;&gt;&lt;a href=&quot;#配置用户名、用户邮箱&quot; class=&quot;headerlink&quot; title=&quot;配置用户名、用户邮箱&quot;&gt;&lt;/a&gt;配置用户名、用户邮箱&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr</summary>
      
    
    
    
    
    <category term="git" scheme="https://xielingfan.github.io/tags/git/"/>
    
  </entry>
  
</feed>
